<!DOCTYPE html>  
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>index</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
/*
This document has been created with Marked.app <http://markedapp.com>, Copyright 2013 Brett Terpstra
Content is property of the document author
Please leave this notice in place, along with any additional credits below.
---------------------------------------------------------------
Title: GitHub
Author: Brett Terpstra
Description: Github README style. Includes theme for Pygmentized code blocks.
*/
html,body{color:black}*:not('#mkdbuttons'){margin:0;padding:0}#wrapper{font:13.34px helvetica,arial,freesans,clean,sans-serif;-webkit-font-smoothing:subpixel-antialiased;line-height:1.4;padding:3px;background:#fff;border-radius:3px;-moz-border-radius:3px;-webkit-border-radius:3px}p{margin:1em 0}a{color:#4183c4;text-decoration:none}#wrapper{background-color:#fff;padding:30px;margin:15px;font-size:14px;line-height:1.6}#wrapper>*:first-child{margin-top:0!important}#wrapper>*:last-child{margin-bottom:0!important}@media screen{#wrapper{box-shadow:0 0 0 1px #cacaca,0 0 0 4px #eee}}h1,h2,h3,h4,h5,h6{margin:20px 0 10px;padding:0;font-weight:bold;-webkit-font-smoothing:subpixel-antialiased;cursor:text}h1{font-size:28px;color:#000}h2{font-size:24px;border-bottom:1px solid #ccc;color:#000}h3{font-size:18px;color:#333}h4{font-size:16px;color:#333}h5{font-size:14px;color:#333}h6{color:#777;font-size:14px}p,blockquote,table,pre{margin:15px 0}ul{padding-left:30px}ol{padding-left:30px}ol li ul:first-of-type{margin-top:0}hr{background:transparent url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAECAYAAACtBE5DAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OENDRjNBN0E2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OENDRjNBN0I2NTZBMTFFMEI3QjRBODM4NzJDMjlGNDgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo4Q0NGM0E3ODY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo4Q0NGM0E3OTY1NkExMUUwQjdCNEE4Mzg3MkMyOUY0OCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PqqezsUAAAAfSURBVHjaYmRABcYwBiM2QSA4y4hNEKYDQxAEAAIMAHNGAzhkPOlYAAAAAElFTkSuQmCC) repeat-x 0 0;border:0 none;color:#ccc;height:4px;padding:0}#wrapper>h2:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child{margin-top:0;padding-top:0}#wrapper>h1:first-child+h2{margin-top:0;padding-top:0}#wrapper>h3:first-child,#wrapper>h4:first-child,#wrapper>h5:first-child,#wrapper>h6:first-child{margin-top:0;padding-top:0}a:first-child h1,a:first-child h2,a:first-child h3,a:first-child h4,a:first-child h5,a:first-child h6{margin-top:0;padding-top:0}h1+p,h2+p,h3+p,h4+p,h5+p,h6+p,ul li>:first-child,ol li>:first-child{margin-top:0}dl{padding:0}dl dt{font-size:14px;font-weight:bold;font-style:italic;padding:0;margin:15px 0 5px}dl dt:first-child{padding:0}dl dt>:first-child{margin-top:0}dl dt>:last-child{margin-bottom:0}dl dd{margin:0 0 15px;padding:0 15px}dl dd>:first-child{margin-top:0}dl dd>:last-child{margin-bottom:0}blockquote{border-left:4px solid #DDD;padding:0 15px;color:#777}blockquote>:first-child{margin-top:0}blockquote>:last-child{margin-bottom:0}table{border-collapse:collapse;border-spacing:0;font-size:100%;font:inherit}table th{font-weight:bold;border:1px solid #ccc;padding:6px 13px}table td{border:1px solid #ccc;padding:6px 13px}table tr{border-top:1px solid #ccc;background-color:#fff}table tr:nth-child(2n){background-color:#f8f8f8}img{max-width:100%}code,tt{margin:0 2px;padding:0 5px;white-space:nowrap;border:1px solid #eaeaea;background-color:#f8f8f8;border-radius:3px;font-family:Consolas,'Liberation Mono',Courier,monospace;font-size:12px;color:#333}pre>code{margin:0;padding:0;white-space:pre;border:0;background:transparent}.highlight pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre{background-color:#f8f8f8;border:1px solid #ccc;font-size:13px;line-height:19px;overflow:auto;padding:6px 10px;border-radius:3px}pre code,pre tt{background-color:transparent;border:0}.poetry pre{font-family:Georgia,Garamond,serif!important;font-style:italic;font-size:110%!important;line-height:1.6em;display:block;margin-left:1em}.poetry pre code{font-family:Georgia,Garamond,serif!important;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;-moz-hyphens:auto;hyphens:auto;white-space:pre-wrap}sup,sub,a.footnote{font-size:1.4ex;height:0;line-height:1;vertical-align:super;position:relative}sub{vertical-align:sub;top:-1px}@media print{body{background:#fff}img,pre,blockquote,table,figure{page-break-inside:avoid}#wrapper{background:#fff;border:0}code{background-color:#fff;color:#333!important;padding:0 .2em;border:1px solid #dedede}pre{background:#fff}pre code{background-color:white!important;overflow:visible}}@media screen{body.inverted{color:#eee!important;border-color:#555;box-shadow:none}.inverted #wrapper,.inverted hr .inverted p,.inverted td,.inverted li,.inverted h1,.inverted h2,.inverted h3,.inverted h4,.inverted h5,.inverted h6,.inverted th,.inverted .math,.inverted caption,.inverted dd,.inverted dt,.inverted blockquote{color:#eee!important;border-color:#555;box-shadow:none}.inverted td,.inverted th{background:#333}.inverted h2{border-color:#555}.inverted hr{border-color:#777;border-width:1px!important}::selection{background:rgba(157,193,200,0.5)}h1::selection{background-color:rgba(45,156,208,0.3)}h2::selection{background-color:rgba(90,182,224,0.3)}h3::selection,h4::selection,h5::selection,h6::selection,li::selection,ol::selection{background-color:rgba(133,201,232,0.3)}code::selection{background-color:rgba(0,0,0,0.7);color:#eee}code span::selection{background-color:rgba(0,0,0,0.7)!important;color:#eee!important}a::selection{background-color:rgba(255,230,102,0.2)}.inverted a::selection{background-color:rgba(255,230,102,0.6)}td::selection,th::selection,caption::selection{background-color:rgba(180,237,95,0.5)}.inverted{background:#0b2531;background:#252a2a}.inverted #wrapper{background:#252a2a}.inverted a{color:#acd1d5}}.highlight .c{color:#998;font-style:italic}.highlight .err{color:#a61717;background-color:#e3d2d2}.highlight .k,.highlight .o{font-weight:bold}.highlight .cm{color:#998;font-style:italic}.highlight .cp{color:#999;font-weight:bold}.highlight .c1{color:#998;font-style:italic}.highlight .cs{color:#999;font-weight:bold;font-style:italic}.highlight .gd{color:#000;background-color:#fdd}.highlight .gd .x{color:#000;background-color:#faa}.highlight .ge{font-style:italic}.highlight .gr{color:#a00}.highlight .gh{color:#999}.highlight .gi{color:#000;background-color:#dfd}.highlight .gi .x{color:#000;background-color:#afa}.highlight .go{color:#888}.highlight .gp{color:#555}.highlight .gs{font-weight:bold}.highlight .gu{color:#800080;font-weight:bold}.highlight .gt{color:#a00}.highlight .kc,.highlight .kd,.highlight .kn,.highlight .kp,.highlight .kr{font-weight:bold}.highlight .kt{color:#458;font-weight:bold}.highlight .m{color:#099}.highlight .s{color:#d14}.highlight .na{color:#008080}.highlight .nb{color:#0086b3}.highlight .nc{color:#458;font-weight:bold}.highlight .no{color:#008080}.highlight .ni{color:#800080}.highlight .ne,.highlight .nf{color:#900;font-weight:bold}.highlight .nn{color:#555}.highlight .nt{color:#000080}.highlight .nv{color:#008080}.highlight .ow{font-weight:bold}.highlight .w{color:#bbb}.highlight .mf,.highlight .mh,.highlight .mi,.highlight .mo{color:#099}.highlight .sb,.highlight .sc,.highlight .sd,.highlight .s2,.highlight .se,.highlight .sh,.highlight .si,.highlight .sx{color:#d14}.highlight .sr{color:#009926}.highlight .s1{color:#d14}.highlight .ss{color:#990073}.highlight .bp{color:#999}.highlight .vc,.highlight .vg,.highlight .vi{color:#008080}.highlight .il{color:#099}.highlight .gc{color:#999;background-color:#eaf2f5}.type-csharp .highlight .k,.type-csharp .highlight .kt{color:#00F}.type-csharp .highlight .nf{color:#000;font-weight:normal}.type-csharp .highlight .nc{color:#2b91af}.type-csharp .highlight .nn{color:#000}.type-csharp .highlight .s,.type-csharp .highlight .sc{color:#a31515}
</style>

</head>
<body class="normal">
  <div id="wrapper">
      <h1 id="dropboxsyncmodule">dropboxsync Module</h1>

<h2 id="description">Description</h2>

<p>This is a Titanium Mobile module for iOS (iPhone/iPad) that allows to use the
full power of the official Dropbox Sync SDK to sync files between multiple
devices and platforms.</p>

<p>The official Dropbox Sync SDK can be found
<a href="https://www.dropbox.com/developers/sync">here</a>.</p>

<h2 id="basicinstallationinstructions">Basic installation instructions</h2>

<p>Please follow the guide available <a href="http://wiki.appcelerator.org/display/tis/Using+Titanium+Modules">here</a>.</p>

<p>Also, <strong>please follow the additional instructions below</strong>.</p>

<h2 id="changelog">Changelog</h2>

<p>See <a href="changelog.html">here</a></p>

<h2 id="accessingthedropboxsyncmodule">Accessing the dropboxsync Module</h2>

<p>To access this module from JavaScript, you would do the following:</p>

<pre><code>var dropboxsync = require(&quot;com.0x82.dropboxsync&quot;);
</code></pre>

<p>The dropboxsync variable is a reference to the Module object. </p>

<h2 id="additionalinstallationinstructionsveryimportant">Additional Installation instructions (VERY IMPORTANT)</h2>

<p>You are required to do these steps in order for this module to work.</p>

<p>That required us to set a proper UrlScheme, so the browser or the Dropbox
application can then came back to our application, after we finish the auth
phase. To do that on the iPhone, you have to change the Info.plist file on
your build directory. Unfortunately, at this moment, it is not possible to
change the file automatically, so you always have to do this step by hand.
This is a limitation of Titanium and I&#8217;m working with them to solve this
problem.</p>

<h3 id="firststep:generateaappkeyandsecret">First step: generate a app key and secret</h3>

<p>Go to the website https://www.dropbox.com/developers and generate a new
application. Save the application key.</p>

<h3 id="manuallyedittheinfo.plistfile">Manually edit the Info.plist file</h3>

<p>Open the <code>build/iphone/Info.plist</code> on Finder. It will probably open the file
in XCode or something.</p>

<p>Open the &#8220;URL Types&#8221; -&gt; &#8220;Item 0&#8221; -&gt; &#8220;URL Schemes&#8221; path. You should have an
&#8220;Item 0&#8221; String entry with the name of your application. Add a new item &#8220;Item 1&#8221;
with the following format &#8220;db-YOUR_API_KEY&#8221;.</p>

<p>You can see the result on the following screenshot:</p>

<figure>
<img src="http://f.cl.ly/items/30363R3R393g1L1B3r37/Screen%20Shot%202011-10-26%20at%2016.51.33.png" alt="Screenshot" />
<figcaption>Screenshot</figcaption></figure>



<p>If you are using a custom <code>Info.plist</code> file already, you need to copy the custom
file to the root of your project directory. That way, Titanium will use that
file everytime it builds the project, instead of generating a new one.</p>

<h2 id="reference">Reference</h2>

<p>Here&#8217;s the module API.</p>

<h3 id="dropboxsync.configureapp_keysecret">dropboxsync.configure(app_key, secret)</h3>

<p>To start using the Dropbox Sync API, you need to boostrap the program by calling
this method with the correct Dropbox app key and secret. This should be the very
first method you should call on your applicaton, since it sets the necessary
underlying connections for you to use the module.</p>

<p>Note that right now only apps with the App Folder permission can use the Sync
API.</p>

<p>Example:</p>

<pre><code>    dropboxsync.configure(&quot;APP KEY&quot;, &quot;APP SECRET&quot;);
</code></pre>

<h3 id="dropboxsync.link">dropboxsync.link()</h3>

<p>The next step is to link to a user&#8217;s account. The linking process will switch to
the Dropbox mobile app if it&#8217;s installed. </p>

<p>To know when this process finishes, please see bellow for the event
<code>registration_change</code>.</p>

<p>Example:</p>

<pre><code>    var button = Ti.UI.createButton({ title: &quot;Connect with Dropbox&quot;, ...});
    button.addEventListener('click', function(e) {
        dropboxsync.link();
    });
</code></pre>

<h3 id="dropboxsync.linkedaccount">dropboxsync.linkedAccount</h3>

<p>Returns a <a href="account.html">Account</a> reference if the there is any linked account.
Returns <code>null</code> otherwise. This is usefull to check if there&#8217;s already a linked
user account on the system.</p>

<p>Example:</p>

<pre><code>    if(dropboxsync.linkedAccount)
        alert(&quot;Signed in!&quot;);
    else
        alert(&quot;Signed out!&quot;);
</code></pre>

<h3 id="dropboxsync.getpathpath">dropboxsync.getPath(path)</h3>

<p>Create a new path object from a string. Some special characters, names, or
encodings a are not allowed in a Dropbox path. For more details see this
<a href="http://www.dropbox.com/help/145">article</a>.</p>

<p>Returns a <a href="path.html">Path</a> object.</p>

<p>Example:</p>

<pre><code>    var filePath = dropboxsync.getPath(&quot;file.txt&quot;);
    var rootPath = dropboxsync.getPath(&quot;/&quot;);
</code></pre>

<h2 id="events">Events</h2>

<h3 id="registration_change">registration_change</h3>

<p>This event is fired when the state of the linked or linking account changes. For
instance, after the authentication is completed, this event is fired to signal
that you are ready to start using Dropbox Sync. The current linked account is
passed as the <code>account</code> key.</p>

<p>Example:</p>

<pre><code>    dropboxsync.addEventListener('registration_change', function(event) {
      if(event.account.isLinked) {
        alert(&quot;You are now logged in :D&quot;);
      }
    });
    dropboxsync.link();
</code></pre>

<h2 id="errorconstants">Error constants</h2>

<ul>
<li>dropboxsync.ERROR_UNKNOWN</li>
<li>dropboxsync.ERROR_CORE_SYSTEM</li>
<li>dropboxsync.ERROR_PARAMS</li>
<li>dropboxsync.ERROR_PARAMS_INVALID</li>
<li>dropboxsync.ERROR_PARAMS_NOTFOUND</li>
<li>dropboxsync.ERROR_PARAMS_EXISTS</li>
<li>dropboxsync.ERROR_PARAMS_ALREADY_OPEN</li>
<li>dropboxsync.ERROR_PARAMS_PARENT</li>
<li>dropboxsync.ERROR_PARAMS_NOT_EMPTY</li>
<li>dropboxsync.ERROR_PARAMS_NOT_CACHED</li>
<li>dropboxsync.ERROR_SYSTEM</li>
<li>dropboxsync.ERROR_SYSTEM_DISK_SPACE</li>
<li>dropboxsync.ERROR_NETWORK</li>
<li>dropboxsync.ERROR_NETWORK_TIMEOUT</li>
<li>dropboxsync.ERROR_NETWORK_NO_CONNECTION</li>
<li>dropboxsync.ERROR_NETWORK_SSL</li>
<li>dropboxsync.ERROR_NETWORK_SERVER</li>
<li>dropboxsync.ERROR_AUTH</li>
<li>dropboxsync.ERROR_AUTH_UNLINKED</li>
<li>dropboxsync.ERROR_AUTH_INVALID_APP</li>
</ul>

<h2 id="usage">Usage</h2>

<p>Please see the <code>examples/app.js</code> for a full app example.</p>

<h2 id="author">Author</h2>

<p>Ruben Fonseca, root (at) cpan (dot) org</p>

<p>You can also find me on <a href="http://github.com/rubenfonseca">github</a> and on my
<a href="http://blog.0x82.com">blog</a>.</p>

<h2 id="license">License</h2>

<p>This module is licensed under a Commercial license.</p>
    </div>
</body>
</html>